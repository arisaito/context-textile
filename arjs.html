<!DOCTYPE html>
<html lang="jp">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>AR.js</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.5.0/aframe/build/aframe-ar.js"></script>

    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>

    <!-- other library -->
    <script src="https://unpkg.com/aframe-environment-component@1.0.0/dist/aframe-environment-component.min.js"></script>
    <!-- <script src="https://rawgit.com/protyze/aframe-curve-component/master/dist/aframe-curve-component.min.js"></script>
    <script src="https://rawgit.com/protyze/aframe-alongpath-component/master/dist/aframe-alongpath-component.min.js"></script> -->
    <script src="https://wizgrav.github.io/aframe-effects/dist/aframe-effects.js"></script>
  </head>
  <body>
    <a-scene
      antialias="true"
      embedded
      arjs="debugUIEnabled:false;"
      vr-mode-ui="enabled: false"
    >
      <a-assets></a-assets>

      <a-entity camera
        cursor="fuse: false; rayOrigin: mouse;"
      >
        <a-entity id="cursor" cursor="rayOrigin: mouse;"> </a-entity
      ></a-entity>

      <!-- Light -->
      <a-entity
        light="type: directional;
               castShadow: true;
               intensity: 0.8;
        position="1 4.3 2.5"
      >
      </a-entity>
      <a-entity
        light="type: directional; castShadow: false; intensity: 0.5;"
        position="-0.8 3 1.85"
      >
      </a-entity>
    
      <a-marker preset="custom" type="pattern" url="src/context.patt">
          <a-entity
          cursor-listener
            animation="property: rotation; to: 0 360 360; loop: true; easing: linear; dur: 1000;"
          >
            <a-icosahedron
              scale="0.6 0.6 0.6"
              material="roughness: 0.8; metalness: 0.2; color: pink;"
            >
            </a-icosahedron>
        </a-entity>
        </a-marker>
    </a-scene>
    <script>

        AFRAME.registerComponent("cursor-listener", {
          init: function() {
            this.el.addEventListener("click", function(evt) {
              this.seAttribute(
                "animation",
                "property: rotation; to: 0 360 0; dur: 500; loop: false;"
              );
            });
          }
        });
        // AFRAME.registerComponent("registerevents", {
        //   init: function() {
        //     var marker = this.el;

        //     marker.addEventListener("markerFound", function() {
        //       var markerId = marker.id;
        //       var sky = document.getElementById("fade-sky");
        //       $(sky).fadeIn("slow");
        //     });
        //   }
        // });
    </script>
  </body>
</html>
