<!DOCTYPE html>
<html lang="jp">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>AR.js</title>
  <link rel="stylesheet" href="css/style.css" />
  <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet" />
  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
  <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <!-- <script>
      var flag = false;

      AFRAME.registerComponent('registerevents', {
        init: function () {
            var marker = this.el;

            // マーカーを検出したイベントの登録
            marker.addEventListener('markerFound', function () {
                var markerId = marker.id;
                console.log('markerFound', markerId);
                flag = true;
                console.log(flag);

            // マーカーを見失ったイベントの登録
            marker.addEventListener('markerLost', function () {
                var markerId = marker.id;
                console.log('markerLost', markerId);
            });
        })
    }})
    </script> -->
  </head>

<body>
  <div class="ui" id="ui"></div>
  <a-scene embedded arjs="debugUIEnabled:false;" vr-mode-ui="enabled: false">
    <a-assets></a-assets>

    <a-entity camera>

    <!-- Light -->
    <a-entity light="type: directional;
               intensity: 1;" position="1 1 1">
    </a-entity>
    <a-entity light="type: directional;
               intensity: 1;" position="-1 1 1">
    </a-entity>
    <a-entity light="type: directional;
               intensity: 1;" position="0 1 1">
    </a-entity>
    <!-- <a-entity
        light="type: directional; castShadow: false; intensity: 0.5;"
        position="-0.8 3 1.85"
      >
      </a-entity> -->

    <a-marker preset="custom" type="pattern" url="src/context.patt" registerevents>
      <a-entity id="sceneA"></a-entity>
      <a-entity id="sceneB"></a-entity>
      <a-entity id="sceneC"></a-entity>
      <a-entity id="target">
        <a-icosahedron scale="0.6 0.6 0.6" position="0 0 0" rotation="0 0 0" material="color: white;"
          shadow="receive: false" animation="property: rotation; to: 0 0 360; loop: true; easing: linear; dur: 10000;">
        </a-icosahedron>
      </a-entity>
    </a-marker>
  </a-scene>
  <script src="js/cursor.js"></script>
</body>

</html>