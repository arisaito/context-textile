<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>textile</title>
    <!-- We've included a slightly modified version of A-Frame, which fixes some polish concerns -->
    <script src="//cdn.8thwall.com/web/aframe/8frame-0.8.2.min.js"></script>

    <!-- 8thWall Web - Replace the app key here with your own app key -->
    <script
      async
      src="//apps.8thwall.com/xrweb?appKey=jYZU3acZmXYTem0Cv4yHsKQOHlFji0vYM22qbOZyeQXJUyzgkkkN5thXfMvIQ27hme9XTp"
    ></script>

    <script>
      // Simple script to reset the camera position to its initial position.
      AFRAME.registerComponent("tap-recenter", {
        init: function() {
          const scene = this.el.sceneEl;
          scene.addEventListener("click", () => {
            scene.emit("recenter", {});
          });
        }
      });

      // Basic example of controlling the loading screen
      AFRAME.registerComponent("loading-screen", {
        init: function() {
          const scene = this.el.sceneEl;
          scene.addEventListener("realityready", () => {
            loadingScreen.style.display = "none";
          });

          scene.addEventListener("realityerror", () => {
            loadingScreen.textContent = "An error has occurred.";
          });

          scene.addEventListener("camerastatuschange", event => {
            if (event.detail.status == "failed") {
              loadingScreen.textContent = "Camera permissions were denied.";
            }
          });
        }
      });
    </script>
  </head>
  <body>
    <!-- 2D overlay UI can be done in HTML -->
    <div
      id="overlay"
      style="position: absolute;
                left: 0;
                top: 0;
                right: 0;
                bottom: 0;
                z-index: 5;
                pointer-events: none;"
    >
      <div
        id="loadingScreen"
        style="position: absolute;
                  left: 0;
                  right: 0;
                  top: 0;
                  bottom: 0;
                  text-align: center;
                  font-size: 3vh;
                  background-color: white;
                  padding: 5vh;
                  font-family: sans-serif;
                  pointer-events: auto;"
      >
        <!-- <img
          style="width: 70%;
                    max-width: 70%;
                    height: auto;"
          src="images/loading.png"
        /> -->
        <h2>loading...</h2>
      </div>
    </div>

    <!-- Add the 'xrweb' attribute to your scene to make it an 8th Wall Web A-FRAME scene. -->
    <a-scene xrweb loading-screen>
      <a-assets>
        <a-asset-item id="tree-obj" src="models/moneXtree.obj"></a-asset-item>
        <a-asset-item id="tree-mtl" src="models/moneXtree.mtl"></a-asset-item>
      </a-assets>

      <a-camera position="0 0 0"></a-camera>

      <!-- Light -->
      <!-- <a-entity
        light="type: directional;
               castShadow: true;
               intensity: 0.8;
               shadowCameraTop: 7;
               shadowMapHeight: 1024;
               shadowMapWidth: 1024;"
        position="1 4.3 2.5"
      >
      </a-entity> -->

      <!-- <a-light type="ambient" intensity="1"></a-light> -->

      <!-- Object -->
      <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
      <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
      <a-cylinder
        position="1 0.75 -3"
        radius="0.5"
        height="1.5"
        color="#FFC65D"
      ></a-cylinder>
      <a-plane
        position="0 0 -4"
        rotation="-90 0 0"
        width="4"
        height="4"
        color="#7BC8A4"
      ></a-plane>
    </a-scene>
  </body>
</html>
